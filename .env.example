# ===========================================
# RedditAutoMarket - Environment Variables
# ===========================================
# This file documents all environment variables required for deployment.
# Copy this file to .env and fill in the values for local development.
# For Vercel deployment, add these variables in the Vercel Dashboard.
# ===========================================

# ===========================================
# REQUIRED VARIABLES
# ===========================================

# ----------
# Database (PostgreSQL)
# ----------
# Connection string for your PostgreSQL database.
# Format: postgresql://username:password@host:port/database?schema=public
#
# For Vercel Postgres:
#   Use the connection string from Vercel Storage → Postgres → .env.local
#
# For external PostgreSQL (e.g., Neon, Supabase, Railway):
#   Get the connection string from your provider's dashboard
#
# Example: postgresql://user:password@host.123456789012.us-east-1.aws.neon.tech/neondb?schema=public
DATABASE_URL="postgresql://postgres:password@localhost:5432/redditmarket?schema=public"

# ----------
# NextAuth.js Authentication
# ----------
# Secret key used to encrypt JWT tokens and session cookies.
# REQUIRED for production - generate with: openssl rand -base64 32
#
# Example: dGhpcyBpcyBhIDMyIGJ5dGUgcmFuZG9tIHN0cmluZyBmb3Igc2VjcmV0
NEXTAUTH_SECRET=""

# Base URL of your application for NextAuth callbacks.
# - Local development: http://localhost:3000
# - Production: https://your-domain.com
NEXTAUTH_URL="http://localhost:3000"

# ----------
# Reddit API Credentials
# ----------
# Required for Reddit OAuth authentication and API access.
# Get credentials at: https://www.reddit.com/prefs/apps
#
# 1. Go to https://www.reddit.com/prefs/apps
# 2. Click "create another app..." at the bottom
# 3. Select "script" type
# 4. Fill in:
#    - name: RedditAutoMarket
#    - description: Automation tool for Reddit marketing
#    - about url: https://your-domain.com
#    - redirect uri: https://your-domain.com/api/auth/callback/reddit
# 5. After creating, you'll see:
#    - CLIENT_ID: The string under the app name (12 characters)
#    - CLIENT_SECRET: The "secret" key (14 characters)
#
# Note: For localhost, use redirect uri: http://localhost:3000/api/auth/callback/reddit
REDDIT_CLIENT_ID=""
REDDIT_CLIENT_SECRET=""

# ----------
# OpenAI API Key
# ----------
# Required for AI-powered features (content generation, analysis).
# Get your API key at: https://platform.openai.com/api-keys
#
# Note: You'll need billing set up. Costs are ~$0.001-0.005 per request.
OPENAI_API_KEY=""

# ===========================================
# PAYMENTS (STRIPE) - Required for paid plans
# ===========================================

# ----------
# Stripe API Keys
# ----------
# Get from: https://dashboard.stripe.com/test/apikeys (Test mode)
# Use test keys starting with "sk_test_" for development
STRIPE_SECRET_KEY=""

# ----------
# Stripe Webhook Secret
# ----------
# Required for receiving payment events (subscription created, failed, cancelled).
# Get from: https://dashboard.stripe.com/test/webhooks
# 1. Add endpoint: https://your-domain.com/api/webhooks/stripe
# 2. Select events: customer.subscription.created, customer.subscription.updated,
#                    customer.subscription.deleted, invoice.payment_failed
# 3. Copy the "Signing secret" (starts with whsec_)
STRIPE_WEBHOOK_SECRET=""

# ----------
# Stripe Price IDs
# ----------
# Get from: https://dashboard.stripe.com/test/products
# 1. Create products for each tier (Starter, Pro, Enterprise)
# 2. Create pricing (monthly and yearly) for each product
# 3. Copy the Price ID (starts with price_)
#
# Example price IDs (test mode):
# STRIPE_STARTER_MONTHLY="price_1234567890"
# STRIPE_STARTER_YEARLY="price_0987654321"
STRIPE_STARTER_MONTHLY=""
STRIPE_STARTER_YEARLY=""
STRIPE_PRO_MONTHLY=""
STRIPE_PRO_YEARLY=""
STRIPE_ENTERPRISE_MONTHLY=""
STRIPE_ENTERPRISE_YEARLY=""

# ----------
# Stripe Redirect URLs
# ----------
# URLs returned after payment completion/cancellation
NEXT_PUBLIC_STRIPE_SUCCESS_URL="/dashboard?success=true"
NEXT_PUBLIC_STRIPE_CANCEL_URL="/dashboard?canceled=true"

# ===========================================
# OPTIONAL VARIABLES
# ===========================================

# ----------
# Cron Job Security
# ----------
# Secret token for protecting automated cron job endpoints.
# Generate with: openssl rand -base64 32
#
# Use in your external scheduler (cron-job.org, Vercel Cron, etc.):
#   curl -H "Authorization: Bearer YOUR_CRON_SECRET" https://your-domain.com/api/cron
CRON_SECRET=""

# ----------
# Rate Limiting
# ----------
# Configure API rate limits for the application.
# Values are in milliseconds and requests per window.

# Global rate limit window (default: 60000ms = 1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Global max requests per window (default: 10)
RATE_LIMIT_MAX_REQUESTS=10

# Tier-specific rate limits (requests per minute)
RATE_LIMIT_FREE_MAX=10
RATE_LIMIT_STARTER_MAX=60
RATE_LIMIT_PRO_MAX=300
RATE_LIMIT_ENTERPRISE_MAX=1000

# ----------
# Application Configuration
# ----------
# Public URL of the application (used for SEO, sharing, etc.)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ===========================================
# GOOGLE OAUTH (Optional - for email login)
# ===========================================
# Note: Currently not fully implemented. Get credentials from project owner.

# Get from: https://console.cloud.google.com/apis/credentials
# 1. Create OAuth 2.0 Client ID
# 2. Authorized redirect URIs: https://your-domain.com/api/auth/callback/google
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""

# ===========================================
# ENVIRONMENT
# ===========================================
# Automatically set by Vercel/Next.js
# NODE_ENV="development" | "production" | "test"
